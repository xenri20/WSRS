@{
    ViewData["Title"] = "Reports";
}

@section customHead {
    <link rel="stylesheet" href="~/css/reportStyle.css" asp-append-version="true" />
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/reports.js" asp-append-version="true"></script>
    <script src="~/lib/chartjs/dist/chart.umd.js"></script>
}

<div id="reports">
    <h1>Reports</h1>
    <div class="mt-1 button-group" role="group" aria-label="Button group example">
        <button class="btn btn-primary major-violations" value="MajorViolations">Major Violations</button>
        <button class="btn btn-primary minor-violations" value="MinorViolations">Minor Violations</button>
        <button class="btn btn-primary minor-traffic" value="MinorTrafficViolations">Minor Traffic Violations</button>
        <button class="btn btn-primary major-traffic" value="MajorTrafficViolations">Major Traffic Violations</button>

        <!-- Date range selection -->
        <label for="startDate">Start Date:</label>
        <input type="date" id="startDate">

        <label for="endDate">End Date:</label>
        <input type="date" id="endDate">

        <button id="applyFilterBtn" class="btn btn-primary">Apply Filter</button>
        <button id="clearFilterBtn" class="btn btn-secondary">Clear Filter</button>
    </div>
    <hr />
    <div class="content-panel reports">
        <!-- Container for larger chart -->
        <div id="grid-screen">
            <div id="statistics">
                <canvas id="reportsChart"></canvas>
            </div>
            <div id="panel-footer">
                <div id="total-violations">Total Violations: 0</div>
                <button id="generateReportBtn" class="btn"><img src="~/assets/img/AI.svg" />Generate a Report</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for Input -->
<div id="exportModal" class="modal fade" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Export Reports to Excel</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <label for="excelFileName">File Name:</label>
                <input type="text" id="excelFileName" class="form-control" placeholder="Enter file name" required>

                <label for="exportStartDate">Start Date:</label>
                <input type="date" id="exportStartDate" class="form-control">

                <label for="exportEndDate">End Date:</label>
                <input type="date" id="exportEndDate" class="form-control">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" id="exportExcelBtn">Export</button>
            </div>
        </div>
    </div>
</div>
      <script src="/lib/jquery/dist/jquery.min.js"></script>
      <script src="/lib/chartjs/dist/chart.umd.js"></script>

